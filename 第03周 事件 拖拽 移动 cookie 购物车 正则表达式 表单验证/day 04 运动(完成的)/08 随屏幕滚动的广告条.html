<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>随屏幕滚动的广告条</title>
	<style>
#div1{
	width: 60px;
	height: 100px;
	position: absolute;
	right: 0;
	bottom: 0;
	background: #b7b7b7;
}
body{
	height: 3000px;
}
input{
	position: fixed;
	right: 0;
	top: 0;
}
	</style>

</head>
<body>
	<div id='div1'></div>
	<input type="text" id='txt1'>
</body>

<script>	

	var clientHeight = document.documentElement.clientHeight;
	var oDiv = document.getElementById('div1');
	var clientTop = clientHeight - oDiv.offsetHeight;
	onscroll = function(){
		var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
		//oDiv.style.top = clientTop / 2 + scrollTop  + "px";
		move(Math.round(clientTop / 2 + scrollTop));
	}
	var timer = null;
	function move(target){
		console.log(target);
		clearInterval(timer);
		timer = setInterval(function(){
			var speed = (target - oDiv.offsetTop) / 8;
			speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);
			if(oDiv.offsetTop == target){
				clearInterval(timer);
			}else{
				oDiv.style.top = oDiv.offsetTop + speed + "px";
			}
		},30)
	}

</script>
</html>
