<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>升级版轮播图</title>
	<style>
		* {
			margin: 0;
			padding: 0;
		}

		html {
			height: 100%;
		}

		body {
			height: 100%;
		}

		.container {
			width: 100%;
			height: 100%;
			overflow: hidden;
		}

		.container ul {
			height: 100%;
			position: relative;
		}

		.container ul li {
			list-style: none;
			width: 100%;
			height: 100%;
			background-position: center;
			position: absolute;
			left: 100%;
		}

		.container ul li:nth-of-type(1) {
			background-image: url(images/bg1.png);
		}

		.container ul li:nth-of-type(2) {
			background-image: url(images/bg2.png);
		}

		.container ul li:nth-of-type(3) {
			background-image: url(images/bg3.png);
		}

		.container ul li:nth-of-type(4) {
			background-image: url(images/bg4.png);
		}

		.btn {
			width: 100%;
			position: absolute;
			top: 85%;
			height: 15px;
			z-index: 999;
			text-align: center;
			margin-left: -15px;
		}

		.btn span {
			display: inline-block;
			width: 15px;
			height: 15px;
			margin-left: 15px;
			border-radius: 50%;
			background: #fff;
		}

		.btn span.active {
			background: #f99;
			box-shadow: 0 0px 5px #fff;
		}
	</style>
</head>

<body>

	<div class="container">
		<ul class="show">
			<li style="left: 0"></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
		<div class="btn">
			<span class="active"></span>
			<span></span>
			<span></span>
			<span></span>
		</div>
	</div>
</body>

<script src="js/move2.js"></script>
<script>
	var $ = document.querySelectorAll.bind(document);
	var aSpan = $(".btn")[0].children; //按钮；
	var aShow = $(".show")[0].children;//图片;
	var cWidth = document.documentElement.clientWidth;
	var index = 0;

	for (var i = 0; i < aSpan.length; i++) {
		aSpan[i].spanIndex = i;

		aSpan[i].onclick = function() {
			if (index = this.spanIndex) {
				return 0;
			}

			for (var i = 0; i < aSpan.length; i++) {
				aSpan[i].className = "";
			}
			this.className = "active";

			if (this.spanIndex > index) {
				moveLeft(aShow[index], aShow[this.spanIndex]);
			} else {
				moveRight(aShow[index], aShow[this.spanIndex]);
			}

			index = this.spanIndex;
		}
	}

	function moveLeft(outElement, enterElement) {
		for (var i = 0; i < aShow.length; i++) {
			aShow[i].zIndex = 0;
		}
		outElement.zIndex = 1;
		enterElement.zIndex = 1;

		outElement.style.left = 0;
		move(outElement, "left", -cWidth);

		enterElement.style.left = cWidth + "px";
		move(enterElement, "left", 0);
	}

	function moveRight(outElement, enterElement) {
		for (var i = 0; i < aShow.length; i++) {
			aShow[i].zIndex = 0;
		}

		outElement.zIndex = 1;
		enterElement.zIndex = 1;

		outElement.style.left = 0;
		move(outElement, "left", cWidth);

		enterElement.style.left = -cWidth + "px";
		move(enterElement, "left", 0);
	}
</script>

</html>